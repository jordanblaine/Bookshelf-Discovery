<style type="text/css">
	.search-title{
		margin: 0 auto;
		text-align: center;
	}
	#search-list li{
		display: inline-block;
		padding: 0 1em;
	}
	#search-list a{
		font-size: 120%;
		color: rgb(89,89,89);
		text-decoration: bold;
	}
	#search-list a:hover{
		color: rgb(13,13,13);
	}
	#search-list{
		text-align: center;
	}
	#search-callout{
		background-color: rgb(198,140,83);
	}
	.button.addButton{
		opacity: 0.7;
	}
	#search-form *{
		vertical-align: bottom;
		display: inline-block;
	}
	.lab{
		width: 80%;
	}
</style><br><br><br>
<div class="row">
	<div class="large-10 large-offset-1 search-title">
		<div class="callout" id='search-callout'>
			<strong>
				<h5>Explore all of New York Times Best Sellers Lists. You can search by Book Title, Author's Name, Best Sellers List, and the date of when a specific Best Seller was published.</h5>
			</strong>
		</div>	
	</div>
	<div class="large-1 columns"></div>
</div>
<div class="row"><br><br>
	<div class="large-10 large-offset-1 columns">
		<ul id='search-list'>
			<li>
				<a ng-click='searchBy(search_by.list)'>Book Sellers Lists</a>
			</li><span>|</span>
			<li>
				<a ng-click='searchBy(search_by.title)'>Title</a>
			</li><span>|</span>
			<li>
				<a ng-click='searchBy(search_by.author)'>Author</a>
			</li><span>|</span>
			<li>
				<a ng-click='searchBy(search_by.isbn)'>Isbn</a>
			</li>
		</ul>
	</div>
	<div class="large-1 columns"></div>
</div>
<div class="row"><br>
	<div class="large-8 large-offset-2 columns">
		<form id='search-form'>
			<label ng-if="search.by === 'Title'" class='lab'>Book Title
				<input type='text' ng-model='search.text' placeholder='Book Title'>
			</label>
			<label ng-if="search.by === 'Author'" class='lab'>Book Author
				<input type='text' ng-model='search.text' placeholder='Book Author'>
			</label>
			<div ng-if="search.by === 'Best Sellers List'" style='width: 80%'>
				<label style='width: 60%'>Best Sellers List
					<select ng-model='search.list'>
						<option value='' disabled selected>Select Best Sellers List</option>
						<option value='combined-print-and-e-book-fiction'>Combined Print & E-Book Fiction</option>
						<option value='combined-print-and-e-book-nonfiction'>Combined Print & E-Book Nonfiction</option>
						<option value='hardcover-fiction'>Hardcover Fiction</option>
						<option value='hardcover-nonfiction'>Hardcover Nonfiction</option>
						<option value='trade-fiction-paperback'>Paperback Trade Fiction</option>
						<option value='mass-market-paperback'>Paperback Mass-Market Fiction</option>
						<option value='paperback-nonfiction'>Paperback Nonfiction</option>
						<option value='e-book-fiction'>E-Book Fiction</option>
						<option value='e-book-nonfiction'>E-Book Nonfiction</option>
						<option value='hardcover-advice'>Hardcover Advice & Misc.</option>
						<option value='paperback-advice'>Paperback Advice & Misc.</option>
						<option value='advice-how-to-and-miscellaneous'>Advice, How-To & Miscellaneous</option>
						<option value='picture-books'>Children's Picture Books</option>
						<option value='chapter-books'>Children's Chapter Books</option>
						<option value='childrens-middle-grade'>Children's Middle Grade</option>
						<option value='young-adult'>Young Adult</option>
						<option value='paperback-books'>Children's Paperback Books</option>
						<option value='childrens-middle-grade-hardcover'>Children's Middle Grade Hardcover</option>
						<option value='childrens-middle-grade-paperback'>Children's Middle Grade Paperback</option>
						<option value='childrens-middle-grade-e-book'>Children's Middle Grade E-Book</option>
						<option value='young-adult-hardcover'>Young Adult Hardcover</option>
						<option value='young-adult-paperback'>Young Adult Paperback</option>
						<option value='young-adult-e-book'>Young Adult E-Book</option>
						<option value='series-books'>Children's Series</option>
						<option value='hardcover-graphic-books'>Hardcover Graphic Books</option>
						<option value='paperback-graphic-books'>Paperback Graphic Books</option>
						<option value='manga'>Manga</option>
						<option value='combined-print-fiction'>Combined Hardcover & Paperback Fiction</option>
						<option value='combined-print-nonfiction'>Combined Hardcover & Paperback Nonfiction</option>
						<option value='animals'>Animals</option>
						<option value='business'>Business</option>
						<option value='Celebrities'>Celebrities</option>
						<option value='crime-and-punishment'>Crime and Punishment</option>
						<option value='culture'>Culture</option>
						<option value='education'>Education</option>
						<option value='espionage'>Espionage</option>
						<option value='expeditions-disasters-and-adventures'>Expeditions, Disasters and Adventures</option>
						<option value='family'>Family</option>
						<option value='fashion-manners-and-customs'>Fashion, Manners and Customs</option>
						<option value='food-and-fitness'>Food and Fitness</option>
						<option value='games-and-activities'>Games and Activities</option>
						<option value='hardcover-business-books'>Hardcover Business Books</option>
						<option value='health'>Health</option>
						<option value='humor'>Humor</option>
						<option value='indigenous-americans'>Indigenous Americans</option>
						<option value='paperback-business-books'>Paperback Business Books</option>
						<option value='politics'>Politics</option>
						<option value='race-and-civil-rights'>Race and Civil Rights</option>
						<option value='relationships'>Relationships</option>
						<option value='religion-spirituality-and-faith'>Religion, Spirituality and Faith</option>
						<option value='science'>Science</option>
						<option value='sports'>Sports</option>
						<option value='travel'>Travel</option>
					</select>
				</label>
				<label style='width: 39%'>Published List Date
					<input type='date' ng-model='search.date' min="2008-06-01">
				</label>
			</div>
			<label ng-if="search.by === 'Isbn'" class='lab'>Book Isbn
				<input type='number' ng-model='search.text' placeholder='Book Isbn'>
			</label>
			<input type='submit' class='button success' ng-click='doSearch()' value='Search' style='width: 19%'>
		</form><br>
	</div>
	<div class="large-2 columns"></div>
</div>
<hr style='border-style: inset;border-width: 0.3em;border-color: rgb(153, 153, 102);'><br>
<div class="row" ng-if="search_results.length > 0 && (result_query.by === 'Title' || result_query.by === 'Author' || result_query.by === 'Isbn')">
	<div class="large-offset-2 large-8 columns">
		<div class="callout success" style='text-align:center'>
			<h6>Showing results for books with the <span ng-bind='result_query.by'></span> of  "<span ng-bind='result_query.text'></span>".</h6>
		</div>
	</div>
	<div class="large-2 columns"></div>
</div>
<div class="row" ng-if="search_results.length > 0 && result_query.by === 'Best Sellers List'">
	<div class="large-offset-2 large-8 columns">
		<div class="callout success" style='text-align:center'>
			<h6>Showing results of <span ng-bind='result_query.list'></span> Best Sellers List for <span ng-bind='result_query.date'></span>.</h6>
		</div>
	</div>
	<div class="large-2 columns"></div>
</div>
<div class="row" ng-if="no_results && (search.by === 'Title' || search.by === 'Author' || search.by === 'Isbn')">
	<div class="large-offset-2 large-8 columns">
		<div class="callout alert" style='text-align:center'>
			<h6>No books were found with the <span ng-bind='result_query.by'></span> of  "<span ng-bind='result_query.text'></span>".</h6>
		</div>
	</div>
	<div class="large-2 columns"></div>
</div>
<div class="row">
	<div class='large-12 columns' id='results'>
		<br><br>
		<div ng-if='no_results === null'>
			<table ng-if="result_query.by === 'Title' || result_query.by === 'Author' || result_query.by === 'Isbn'" class='hover'>
				<thead>
					<tr>
						<th style='width: 35%'>Title</th>
						<th style='width: 15%'>Author</th>
						<th style='width: 15%'>Isbn</th>
						<th style='width: 10%'>Description</th>
						<th style='width: 10%'>Review</th>						
						<th style='width: 15%'></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat-start='each in search_results'>
						<td ng-bind='each.title'></td>
						<td ng-bind='each.author'></td>
						<td ng-bind='each.isbns[0].isbn13'></td>
						<td>
							<a ng-click='openDescription($index)' ng-show="desc[$index].is === 'hide' && each.description.length > 0 && each.description !== null" style='text-decoration:underline'>Show Description</a>
							<a ng-click='closeDescription($index)' ng-show="desc[$index].is === 'show'" style='text-decoration:underline'>Hide Description</a>
						</td>
						<td><a ng-if='each.reviews[0].sunday_review_link.length > 0' ng-href='{{each.reviews[0].sunday_review_link}}' style='text-decoration: underline' target='_blank'>See Review</a></td>
						<td>
							<button ng-if="each.shelf === 'off'" class='button primary' ng-click='addBook(each.isbns[0].isbn13,$index)' style='width: 95%;font-size:83%;margin-top:1em' title='Add to your Bookshelf'>Add to Bookshelf</button>
							<button ng-if="each.shelf === 'on'" class='button success addButton' ng-click='removeBook(each.isbns[0].isbn13,$index)' style='width: 95%;margin-top:1em' title='Already on your Bookshelf'>&#10004;</button><button ng-if="each.shelf === 'none'" class='button primary disabled addButton' style='width: 95%;margin-top:1em' title='Sign in to add a book to your Bookshelf'>Add to Bookshelf</button>
							<button ng-if="each.shelf === 'none'" class='button primary disabled addButton' style='width: 95%;margin-top:1em;font-size:83%' title='Sign in to add a book to your Bookshelf'>Add to Bookshelf</button>
						</td>
					</tr>
					<tr ng-repeat-end=''>
						<td ng-hide="desc[$index].is === 'hide'" colspan='6' style='text-align: center'>
							<p style='margin-bottom:0'>&uarr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Description:&nbsp;</strong>
							<span ng-bind='each.description'></span>
						</td>
					</tr>
				</tbody>
			</table>
			<table ng-if="result_query.by === 'Best Sellers List'" class='hover'>
				<thead>
					<tr>
						<th style='width: 10%'>Rank</th>
						<th style='width: 30%'>Title</th>
						<th style='width: 15%'>Author</th>
						<th style='width: 15%'>Isbn</th>
						<th style='width: 15%'>Review</th>
						<th style='width: 15%'></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="each in search_results">
						<td><p ng-bind='each.rank'></p></td>
						<td><a ng-click='toBook(each)' ng-bind='each.book_details[0].title'></a></td>
						<td ng-bind='each.book_details[0].author'></td>
						<td ng-bind='each.book_details[0].primary_isbn13'></td>
						<td><a ng-if='each.reviews[0].sunday_review_link.length > 0' ng-href='{{each.reviews[0].sunday_review_link}}' style='text-decoration: underline' target='_blank'>See Review</a></td>
						<td>
							<button ng-if="each.shelf === 'off'" class='button primary' ng-click='addBook(each.book_details[0].primary_isbn13,$index)' style='width: 95%;font-size: 83%;margin-top:1em' title='Add to your Bookshelf'>Add to Bookshelf</button>
							<button ng-if="each.shelf === 'on'" class='button success addButton' ng-click='removeBook(each.book_details[0].primary_isbn13,$index)' style='width: 95%;margin-top:1em;height:38px' title='Already on your Bookshelf'>&#10004;</button>
							<button ng-if="each.shelf === 'none'" class='button primary disabled addButton' style='width: 95%;margin-top:1em;font-size:83%' title='Sign in to add a book to your Bookshelf'>Add to Bookshelf</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>